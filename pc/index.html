<!-- /pc/reserve.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>PC予約カレンダー | 法政大学 小金井写真部 予約システム</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../nav/css/nav-base.css">
  <link rel="stylesheet" href="../nav/css/nav-desktop.css">
  <link rel="stylesheet" href="../nav/css/nav-mobile.css">
  <link rel="icon" href="images/club-icon.JPG" type="image/jpeg">
  <link rel="stylesheet" href="css/style.css">

  <link rel="manifest" href="/reserve_site/manifest.json">
  <meta name="theme-color" content="#333333">

  <!-- iOS 用 PWA -->
  <link rel="apple-touch-icon" href="/reserve_site/icons/icon-180.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!-- Android / Chrome 用 -->
  <meta name="mobile-web-app-capable" content="yes">

  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/reserve_site/service-worker.v4.js")
      .then(() => console.log("SW 登録成功"))
      .catch((err) => console.error("SW 登録失敗:", err));
  }
  </script>

  <!-- FullCalendar（PC用） -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <script>
    fetch("./maintenance.flag").then(r => {
      if (r.ok && !location.pathname.includes("maintenance.html")) {
        location.href = "./maintenance.html";
      }
    });
  </script>
  <script>
  // maintenance.flag が存在したら強制メンテ
  fetch("/maintenance.flag")
    .then(r => {
      if (r.ok) {
        if (!location.pathname.includes("maintenance.html")) {
          location.href = "/maintenance.html";
        }
      }
    });
  </script>
</head>

<body class="page-transition" data-page="pc">

  <div id="header-wrapper">
    <!-- ===== ヘッダー ===== -->
    <header id="main-header">
      <div class="header-content">
        <!-- ここは総合トップに戻る -->
        <a href="../index.html">
          <img src="images/club-icon.JPG" alt="写真部アイコン" class="logo">
          <div class="site-title">
            <h1>法政大学 小金井写真部</h1>
            <p>PC予約システム</p>
          </div>
        </a>
        <!-- 🍔 ハンバーガーボタン -->
        <button class="nav-toggle" aria-label="メニュー">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </header>

    <!-- ===== ナビ =====
    <nav class="navbar">
      <ul>
        <li><a href="index.html">PC予約トップ</a></li>
        <li><a href="reserve.html">PC予約カレンダー</a></li>
      </ul>
    </nav> -->
  </div>

  <!-- ===== 本文 ===== -->
  <main>
    <section class="pc-center-section">
      <h2>PC予約システム</h2>

      <p class="pc-description">
        このシステムでは、写真部の共用パソコンの予約状況を確認し、<br>
        予約申請フォームから予約を行うことができます。<br>
        申請後、カレンダーに自動的に反映されます。
      </p>

      <div class="pc-link-buttons">
        <a href="reserve.html" class="button">PC予約カレンダーを見る</a>
      </div>
    </section>

    <section class="c-section">
      <div class="c-section__heading">
        <div class="c-section__heading--title"><span>お知らせ</span></div>
        <div class="c-section__heading--subtitle">Information</div>
      </div>
      <div class="c-section__container">
        <ul>
          <li>
            共用PCの利用は、原則として予約制です。<br>
            予約せずに長時間占有する行為はご遠慮ください。
          </li>
          <li>
            予約申請は、利用希望日の「1日前まで」受け付けます。<br>
            期限を過ぎた申請は受理できません。
          </li>
          <li>
            予約枠は「2限〜5限」相当の時間帯に設定され、1枠あたり50分です。<br>
            利用目的や混雑状況を考慮し、必要な枠を確保してください。
          </li>
          <li>
            予約が入っていない時間帯は、自由に利用可能です。
          </li>
          <li>
            予約を行ったにもかかわらず無断で利用しない行為は禁止します。<br>
            他の利用希望者に迷惑がかかるため、都合が悪くなった場合は必ずキャンセル申請を行ってください。
          </li>
          <li>
            PC内のフォルダーは個人のデータが含まれています。他人のフォルダーを勝手に閲覧・改変する行為は禁止します。
          </li>
          <li>
            保存が必要なデータは、共用PC上では100GBまで保存可能です。<br>
            それ以上のデータ保存が必要な場合は、Adobe Cloudへ保存してください。
          </li>
          <li>
            個人アカウント（Googleなど）にログインした場合は、使用後必ずログアウトしてください。<br>
            ログアウト漏れは情報流出につながるため厳守してください。
          </li>
          <li>
            機器に異常や不具合を感じた場合は、速やかに幹部へ報告してください。
          </li>
          <li>
            ルールを大きく逸脱した場合、状況に応じて PC 利用を制限する場合があります。
          </li>
        </ul>
      </div>
    </section>
    <!-- ===== 予約枠モーダル（Lightbox風） ===== -->
    <div id="pcSlotModal" class="cancel-modal" style="display:none;">
      <div class="cancel-box" id="pcSlotModalBox">
        <!-- JSで中身を差し替えます -->
      </div>
    </div>

  </main>

<!-- オフキャンバスナビ  -->
  <div class="offcanvas-nav">
    <ul class="offcanvas-menu">
      <!-- 認証なし -->
      <li id="nav-login">
        <a href="/reserve_site/auth/login.html">ログイン / 新規登録</a>
      </li>
      <!-- 認証あり（表示のみ） -->
      <li id="nav-loggedin" style="display:none;">
        <span class="nav-muted">
          ログイン中：<strong id="nav-user-name"></strong>
        </span>
      </li>
      <!-- 認証あり -->
      <li id="nav-mypage" style="display: none;">
        <a href="/reserve_site/mypage.html" data-page="mypage">マイページ</a>
      </li>
      <hr>
      <li><a href="/reserve_site/index.html">総合トップ</a></li>
      <hr>

      <!-- カメラ -->
      <li class="offcanvas-group">
        <button class="offcanvas-toggle">
          カメラ
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="../camera/index.html" data-page="camera">カメラトップ</a></li>
          <li><a href="../camera/reserve.html" data-page="camera-calendar">カレンダー</a></li>
        </ul>
      </li>

      <!-- PC -->
      <li class="offcanvas-group">
        <button class="offcanvas-toggle">
          PC
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="index.html" data-page="pc">PCトップ</a></li>
          <li><a href="reserve.html" data-page="pc-calendar">カレンダー</a></li>
        </ul>
      </li>

      <hr>
      <li class="offcanvas-group" id="nav-admin" style="display: none;">
        <button class="offcanvas-toggle">
          🛠 管理者メニュー
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li>
            <a href="../admin/index.html" data-page="admin-users">
              ユーザー管理
            </a>
          </li>
          <li>
            <a href="../camera/admin.html" data-page="admin-camera">
              カメラ予約管理
            </a>
          </li>
          <li>
            <a href="./admin.html" data-page="admin-pc">
              PC予約管理
            </a>
          </li>
        </ul>
      </li>

      <hr>
      
      <li id="nav-logout" style="display: none;">
        <a href="#" id="logoutBtnOffcanvas">ログアウト</a>
      </li>
    </ul>
  </div>

  <div class="offcanvas-backdrop"></div>

  <!-- ===== フッター ===== -->
  <footer>
    <p><img src="images/club-icon.JPG" style="height:40px;"></p>
    <p><a href="../terms.html">利用規約</a></p>
    <p>© 2025 法政大学 小金井写真部</p>
  </footer>

  <!-- ===== JavaScript ===== -->
  <script src="../nav/js/nav-base.js"></script>
  <script src="../nav/js/nav-auth-bridge.js"></script>
  <script src="../camera/js/script.js"></script> <!-- ヘッダー挙動など共通ならこれ -->
  <script src="js/pc-calendar.js"></script>     <!-- ★PC専用ロジック -->
</body>
</html>