<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>管理者メニュー | PoCKet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- ナビゲーション決定スタイルシート読み込み -->
  <link rel="stylesheet" href="../nav/css/nav-base.css">
  <link rel="stylesheet" href="../nav/css/nav-desktop.css">
  <link rel="stylesheet" href="../nav/css/nav-mobile.css">
  <link rel="stylesheet" href="../assets/css/style.css">
  <script src="../auth/js/app-auth.js" defer></script>
  <script src="admin.js" defer></script>
</head>
<body class="page-transition fade-in" data-page="admin-users">

<header id="main-header">
  <div class="header-content">
    <a href="../index.html">
      <img src="../assets/images/club-icon.JPG" class="logo">
      <div class="site-title">
        <h1>PoCKet 管理者メニュー</h1>
        <p>Photo Club Koganei</p>
      </div>
    </a>
    <!-- 🍔 ハンバーガーボタン -->
     <button class="nav-toggle" aria-label="メニュー">
      <span></span>
      <span></span>
      <span></span>
     </button>
  </div>
</header>

<main class="camera-center-section">
  <h2>ユーザー管理</h2>
  <p>学年・役職を編集できます。（部長・副部長・会計・文連のみ）</p>

  <div class="reserve-list-box">
    <table class="reserve-table">
      <thead>
        <tr>
          <th>氏名</th>
          <th>学年</th>
          <th>役職</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody id="users-table">
        <tr><td colspan="4">読み込み中…</td></tr>
      </tbody>
    </table>
  </div>
</main>

<!-- 編集モーダル -->
<div id="editModal" class="modal" style="display:none;">
  <div class="modal-box">
    <h3>ユーザー編集</h3>

    <input type="hidden" id="edit-email">

    <label>学年</label><br>
    <select id="edit-grade">
      <option value="1">B1</option>
      <option value="2">B2</option>
      <option value="3">B3</option>
      <option value="4">B4</option>
      <option value="5">M1</option>
      <option value="6">M2</option>
      <option value="7">OB/OG</option>
    </select><br><br>

    <label>役職</label><br>
    <select id="edit-role">
      <option value="0">役職なし</option>
      <option value="1">部長</option>
      <option value="2">副部長</option>
      <option value="3">会計</option>
      <option value="4">文連</option>
    </select><br><br>

    <button id="editSave">保存</button>
    <button onclick="closeEditModal()">✖ 閉じる</button>
  </div>
</div>

<!-- オフキャンバスナビ -->
 <div class="offcanvas-nav">
  <ul class="offcanvas-menu">

    <!-- 認証なし -->
     <li id="nav-login">
      <a href="/reserve_site/auth/login.html">ログイン / 新規登録</a>
     </li>
     <!-- 認証あり（表示のみ）-->
      <li id="nav-loggedin" style="display: none;">
        <span class="nav-muted">
          ログイン中：<strong id="nav-user-name"></strong>
        </span>
      </li>
      <!-- 認証あり -->
      <li id="nav-mypage" style="display: none;">
       <a href="/reserve_site/mypage.html" data-page="mypage">マイページ</a>
      </li>
      <hr>
      <li><a href="/reserve_site/index.html">総合トップ</a></li>
      <hr>

      <!-- カメラ  -->
      <li class="offcanvas-group">
        <button class="offcanvas-toggle">
          カメラ
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="../camera/index.html" data-page="camera">カメラトップ</a></li>
          <li><a href="../camera/reserve.html" data-page="camera-calendar">カレンダー</a></li>
        </ul>
      </li>

      <!-- PC -->
      <li class="offcanvas-group">
        <button class="offcanvas-toggle">
          PC
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="../pc/index.html" data-page="pc">PCトップ</a></li>
          <li><a href="../pc/reserve.html" data-page="pc-calendar">カレンダー</a></li>
        </ul>
      </li>
      <hr>
      <li class="offcanvas-group" id="nav-admin" style="display: none;">
        <button class="offcanvas-toggle">
          🛠 管理者メニュー
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li>
            <a href="index.html" data-page="admin-users">
              ユーザー管理
            </a>
          </li>
          <li>
            <a href="../camera/admin.html" data-page="admin-camera">
              カメラ予約管理
            </a>
          </li>
          <li>
            <a href="../pc/admin.html" data-page="admin-pc">
              PC予約管理
            </a>
          </li>
        </ul>
      </li>

      <hr>

      <li id="nav-logout" style="display: none;">
        <a href="#" id="logoutBtnOffcanvas">ログアウト</a>
      </li>
  </ul>
 </div>

 <div class="offcanvas-backdrop"></div>

<footer>
  <p>© 写真技術研究会 PoCKet</p>
</footer>

<script src="../nav/js/nav-base.js"></script>
<script src="../nav/js/nav-auth-bridge.js"></script>
</body>
</html>