<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>総合トップ | 法政大学 小金井写真部 予約システム</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- cssはroot/indexのためのものを採用、アイコンはroot/cameraのものを採用 -->
  <link rel="icon" href="camera/images/club-icon.JPG" type="image/jpeg">
  <link rel="stylesheet" href="./nav/css/nav-base.css">
  <link rel="stylesheet" href="./nav/css/nav-desktop.css">
  <link rel="stylesheet" href="./nav/css/nav-mobile.css">
  <link rel="stylesheet" href="css/root-style.css">

  <link rel="manifest" href="/reserve_site/manifest.json">
  <meta name="theme-color" content="#333333">
  
  <!-- iOS 用 PWA -->
  <link rel="apple-touch-icon" href="/reserve_site/icons/icon-180.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!-- Android / Chrome 用 -->
  <meta name="mobile-web-app-capable" content="yes">
  
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/reserve_site/service-worker.v4.js")
      .then(() => console.log("SW 登録成功"))
      .catch((err) => console.error("SW 登録失敗:", err));
  }
</script>
  <!-- <script>
    fetch("./maintenance.flag").then(r => {
      if (r.ok && !location.pathname.includes("maintenance.html")) {
        location.href = "./maintenance.html";
      }
    });
  </script> -->
  <script src="./auth/js/app-auth.js" defer></script>
</head>

<body class="page-transition">

  <div id="header-wrapper">
  <header id="main-header">
    <div class="header-content">
      <a href="index.html">
        <img src="camera/images/club-icon.JPG" class="logo">
        <div class="site-title">
          <h1>法政大学 小金井写真部</h1>
          <p>予約システム 総合トップ</p>
        </div>
      </a>
      <button class="nav-toggle" aria-label="メニュー">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- <nav class="navbar two-rows">
    <div class="nav-row user-links">
      <ul>
        <li id="nav-login"><a href="/reserve_site/auth/login.html">ログイン</a></li>
        <li id="nav-mypage" style="display:none;"><a href="/reserve_site/mypage.html">マイページ</a></li>
        <li id="nav-logout" style="display:none;"><a href="#" id="logoutBtnNav">ログアウト</a></li>
      </ul>
    </div>
    <div class="nav-row category-links">
      <ul>
        <li><a href="camera/index.html">📷 カメラ予約</a></li>
        <li><a href="pc/index.html">💻 PC予約</a></li>
      </ul>
    </div>
  </nav> -->
  </div>

  <!-- ===== 本文エリア ===== -->
  <main>
    <section class="center-section">
      <h2 class="center-text">予約システム<wbr>（総合案内）</h2>

      <p class="description">
        法政大学 小金井写真部の予約管理システムです。<br>
        下記のボタンから、予約カテゴリを選択してください。
      </p>

      <div class="link-buttons">
        <a href="camera/index.html" class="root-button">📷 カメラ予約へ</a>
        <a href="pc/index.html" class="root-button">💻 PC予約へ</a>
      </div>
    </section>

    <section class="c-section">
      <div class="c-section__heading">
        <div class="c-section__heading--title"><span>ルール</span></div>
        <div class="c-section__heading--subtitle">Rules</div>
      </div>
      <div class="c-section__container">
        <ul>
            <li>
              貸出カメラおよび共用PCの利用は、すべて予約制です。<br>
              各機材は、予約フォームから事前申請のうえご利用ください。
            </li>
            <li>
              予約のキャンセルは、原則として利用日前日までに行ってください。<br>
              当日の無断キャンセルや遅延連絡は、今後の利用に影響する場合があります。
            </li>
            <li>
              各予約の締切日時までに申請を完了してください。<br>
              締切日時を過ぎた申請は受理できません。
            </li>
            <li>
              予約申請者本人が利用者となります。<br>
              他者による代理申請・代理利用は禁止とします。
            </li>
            <li>
              貸出カメラおよび共用PCの各カテゴリに定められた個別ルール、および利用規約を遵守してください。<br>
              不適切な利用が確認された場合には、利用停止措置を行う場合があります。
            </li>
        </ul>
      </div>
    </section>

  </main>

  <!-- オフキャンバスナビ  -->
  <div class="offcanvas-nav">
    <ul class="offcanvas-menu">

      <!-- 認証なし -->
      <li id="nav-login">
        <a href="/reserve_site/auth/login.html">ログイン / 新規登録</a>
      </li>
      <!-- 認証あり（表示のみ） -->
      <li id="nav-loggedin" style="display:none;">
        <span class="nav-muted">
          ログイン中：<strong id="nav-user-name"></strong>
        </span>
      </li>
      <!-- 認証あり -->
      <li id="nav-mypage" style="display: none;">
        <a href="/reserve_site/mypage.html" data-page="mypage">マイページ</a>
      </li>
      <hr>
      <li><a href="/reserve_site/index.html">総合トップ</a></li>
      <hr>

      <!-- カメラ -->
      <li class="offcanvas-group">
        <button class="offcanvas-toggle">
          カメラ
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="camera/index.html" data-page="camera">カメラトップ</a></li>
          <li><a href="camera/reserve.html" data-page="camera-calendar">カレンダー</a></li>
        </ul>
      </li>

      <!-- PC -->
      <li class="offcanvas-group">
        <button class="offcanvas-toggle">
          PC
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="pc/index.html" data-page="pc">PCトップ</a></li>
          <li><a href="pc/reserve.html" data-page="pc-calendar">カレンダー</a></li>
        </ul>
      </li>

      <hr>
      <li class="offcanvas-group" id="nav-admin" style="display: none;">
        <button class="offcanvas-toggle">
          🛠 管理者メニュー
          <span class="arrow"></span>
        </button>
        <ul class="offcanvas-submenu">
          <li><a href="camera/admin.html" data-page="camera-admin">カメラ管理画面</a></li>
          <li><a href="pc/admin.html" data-page="pc-admin">PC管理画面</a></li>
        </ul>
      </li>
      <hr>
      
      <li id="nav-logout" style="display: none;">
        <a href="#" id="logoutBtnOffcanvas">ログアウト</a>
      </li>
    </ul>
  </div>

  <div class="offcanvas-backdrop"></div>

  <!-- ===== フッター ===== -->
  <footer>
    <p><img src="icons/club-icon.JPG" style="height:40px;"></p>
    <p><a href="terms.html">利用規約</a></p>
    <p>© 2025 法政大学 小金井写真部</p>
  </footer>

  <!-- Java -->
  <script src="./nav/js/nav-base.js"></script>
  <script src="./nav/js/nav-auth-bridge.js"></script>
  <script src="js/root-script.js"></script>
</body>
</html>